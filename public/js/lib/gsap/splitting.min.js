(() => {
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };

  // <stdin>
  var require_stdin = __commonJS({
    "<stdin>"(exports, module) {
      !function(n, t) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : n.Splitting = t();
      }(exports, function() {
        "use strict";
        var u = document, l = u.createTextNode.bind(u);
        function d(n2, t2, e2) {
          n2.style.setProperty(t2, e2);
        }
        function f(n2, t2) {
          return n2.appendChild(t2);
        }
        function p(n2, t2, e2, r2) {
          var i2 = u.createElement("span");
          return t2 && (i2.className = t2), e2 && (!r2 && i2.setAttribute("data-" + t2, e2), i2.textContent = e2), n2 && f(n2, i2) || i2;
        }
        function h(n2, t2) {
          return n2.getAttribute("data-" + t2);
        }
        function m(n2, t2) {
          return n2 && 0 != n2.length ? n2.nodeName ? [n2] : [].slice.call(n2[0].nodeName ? n2 : (t2 || u).querySelectorAll(n2)) : [];
        }
        function o(n2) {
          for (var t2 = []; n2--; ) t2[n2] = [];
          return t2;
        }
        function g(n2, t2) {
          n2 && n2.some(t2);
        }
        function c(t2) {
          return function(n2) {
            return t2[n2];
          };
        }
        var a = {};
        function n(n2, t2, e2, r2) {
          return {
            by: n2,
            depends: t2,
            key: e2,
            split: r2
          };
        }
        function e(n2) {
          return function t2(e2, n3, r2) {
            var i2 = r2.indexOf(e2);
            if (-1 == i2) r2.unshift(e2), g(a[e2].depends, function(n4) {
              t2(n4, e2, r2);
            });
            else {
              var u2 = r2.indexOf(n3);
              r2.splice(i2, 1), r2.splice(u2, 0, e2);
            }
            return r2;
          }(n2, 0, []).map(c(a));
        }
        function t(n2) {
          a[n2.by] = n2;
        }
        function v(n2, r2, i2, u2, o2) {
          n2.normalize();
          var c2 = [], a2 = document.createDocumentFragment();
          u2 && c2.push(n2.previousSibling);
          var s2 = [];
          return m(n2.childNodes).some(function(n3) {
            if (!n3.tagName || n3.hasChildNodes()) {
              if (n3.childNodes && n3.childNodes.length) return s2.push(n3), void c2.push.apply(c2, v(n3, r2, i2, u2, o2));
              var t2 = n3.wholeText || "", e2 = t2.trim();
              e2.length && (" " === t2[0] && s2.push(l(" ")), g(e2.split(i2), function(n4, t3) {
                t3 && o2 && s2.push(p(a2, "whitespace", " ", o2));
                var e3 = p(a2, r2, n4);
                c2.push(e3), s2.push(e3);
              }), " " === t2[t2.length - 1] && s2.push(l(" ")));
            } else s2.push(n3);
          }), g(s2, function(n3) {
            f(a2, n3);
          }), n2.innerHTML = "", f(n2, a2), c2;
        }
        var s = 0;
        var i = "words", r = n(i, s, "word", function(n2) {
          return v(n2, "word", /\s+/, 0, 1);
        }), y = "chars", w = n(y, [i], "char", function(n2, e2, t2) {
          var r2 = [];
          return g(t2[i], function(n3, t3) {
            r2.push.apply(r2, v(n3, "char", "", e2.whitespace && t3));
          }), r2;
        });
        function b(t2) {
          var f2 = (t2 = t2 || {}).key;
          return m(t2.target || "[data-splitting]").map(function(a2) {
            var s2 = {
              el: a2
            }, n2 = e(t2.by || h(a2, "splitting") || y), l2 = function(n3, t3) {
              for (var e2 in t3) n3[e2] = t3[e2];
              return n3;
            }({}, t2);
            return g(n2, function(n3) {
              if (n3.split) {
                var t3 = n3.by, e2 = (f2 ? "-" + f2 : "") + n3.key, r2 = n3.split(a2, l2, s2);
                e2 && (i2 = a2, c2 = (o2 = "--" + e2) + "-index", g(u2 = r2, function(n4, t4) {
                  Array.isArray(n4) ? g(n4, function(n5) {
                    d(n5, c2, t4);
                  }) : d(n4, c2, t4);
                }), d(i2, o2 + "-total", u2.length)), s2[t3] = r2, a2.classList.add(t3);
              }
              var i2, u2, o2, c2;
            }), a2.classList.add("splitting"), s2;
          });
        }
        function N(n2, t2, e2) {
          var r2 = m(t2.matching || n2.children, n2), i2 = {};
          return g(r2, function(n3) {
            var t3 = Math.round(n3[e2]);
            (i2[t3] || (i2[t3] = [])).push(n3);
          }), Object.keys(i2).map(Number).sort().map(c(i2));
        }
        b.html = function(n2) {
          var t2 = (n2 = n2 || {}).target = p();
          return t2.innerHTML = n2.content, b(n2), t2.outerHTML;
        }, b.add = t;
        var x = n("lines", [i], "line", function(n2, t2, e2) {
          return N(n2, {
            matching: e2[i]
          }, "offsetTop");
        }), T = n("items", s, "item", function(n2, t2) {
          return m(t2.matching || n2.children, n2);
        }), L = n("rows", s, "row", function(n2, t2) {
          return N(n2, t2, "offsetTop");
        }), k = n("cols", s, "col", function(n2, t2) {
          return N(n2, t2, "offsetLeft");
        }), A = n("grid", ["rows", "cols"]), C = "layout", M = n(C, s, s, function(n2, t2) {
          var e2 = t2.rows = +(t2.rows || h(n2, "rows") || 1), r2 = t2.columns = +(t2.columns || h(n2, "columns") || 1);
          if (t2.image = t2.image || h(n2, "image") || n2.currentSrc || n2.src, t2.image) {
            var i2 = m("img", n2)[0];
            t2.image = i2 && (i2.currentSrc || i2.src);
          }
          t2.image && d(n2, "background-image", "url(" + t2.image + ")");
          for (var u2 = e2 * r2, o2 = [], c2 = p(s, "cell-grid"); u2--; ) {
            var a2 = p(c2, "cell");
            p(a2, "cell-inner"), o2.push(a2);
          }
          return f(n2, c2), o2;
        }), S = n("cellRows", [C], "row", function(n2, t2, e2) {
          var r2 = t2.rows, i2 = o(r2);
          return g(e2[C], function(n3, t3, e3) {
            i2[Math.floor(t3 / (e3.length / r2))].push(n3);
          }), i2;
        }), H = n("cellColumns", [C], "col", function(n2, t2, e2) {
          var r2 = t2.columns, i2 = o(r2);
          return g(e2[C], function(n3, t3) {
            i2[t3 % r2].push(n3);
          }), i2;
        }), O = n("cells", ["cellRows", "cellColumns"], "cell", function(n2, t2, e2) {
          return e2[C];
        });
        return t(r), t(w), t(x), t(T), t(L), t(k), t(A), t(M), t(S), t(H), t(O), b;
      });
    }
  });
  require_stdin();
})();
